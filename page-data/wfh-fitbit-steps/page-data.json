{"componentChunkName":"component---src-templates-blog-post-js","path":"/wfh-fitbit-steps/","result":{"data":{"site":{"siteMetadata":{"title":"patrickmcmichael.org","author":"Patrick McMichael"}},"markdownRemark":{"id":"5da2f8a9-f691-5bdc-97e7-8b454c814d52","excerpt":"Since working from home since the 25th of March 2020 I have wondered how my physical activity has been affected.\nI have worn a Fitbit Charge 2 (most days) since…","html":"<p>Since working from home since the 25th of March 2020 I have wondered how my physical activity has been affected.\nI have worn a Fitbit Charge 2 (most days) since February 2018 so I have a good amount of data to look upon. What I will do is compare total steps for the same period of time for 2020 vs the previous year. I can then see how the average number of steps per day has increased/decreased or any general pattern.</p>\n<p>I will be using the Fitbit API via <a href=\"https://github.com/orcasgit/python-fitbit\">python-fitbit</a> along with <a href=\"https://github.com/pandas-dev/pandas\">Pandas</a> and <a href=\"https://matplotlib.org/\">Matplotlib</a>.</p>\n<h2 id=\"getting-the-data\" style=\"position:relative;\"><a href=\"#getting-the-data\" aria-label=\"getting the data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting the data</h2>\n<h4 id=\"creating-fitbit-app\" style=\"position:relative;\"><a href=\"#creating-fitbit-app\" aria-label=\"creating fitbit app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating Fitbit App</h4>\n<p>In order to use the Fitbit API you will need to create an app and authorize the Fitbit account that you want to read data from. Go to <a href=\"https://dev.fitbit.com/apps/new\">Fitbit Dev App Registration</a> and register a new app. The callback URL is particularly important. I have used <code class=\"language-text\">http://127.0.0.1:8080/</code>. This is what the <a href=\"https://github.com/orcasgit/python-fitbit/blob/master/gather_keys_oauth2.py\">helper script</a> in the Python-Fitbit code expects by default.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3026d33fcacfe5de6656b99d46a425e/7a75e/fitbit_app_details.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 409px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 110.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC80lEQVQ4y4VUO2/TUBT2f2JgrVgLBalCLRUbM0gMIJiggGgLEhtMlRjLUFARA4ihaumbJm3TxI7zaBw3dmLH8fvt++LaJZAEtXz+ZPn6ns/3nO8cmTkVxf29vVKxcHRUOMznhEZj68dGPpfP7ecoKzxPCMEIEYwJJiNgTM/J86WTjlRvSzW5ZYPIiAIbxIbvyrah2iY5HwwWFLJexNtlss395hZHflYIK5LtMt7l0fox2iyh1UMkqjjLAvfBwHdf0KV7eHIeT77E157i8Vk88Qxdn03uvkVjj9GNF3jiOb45hy/fh++/p2IAB8SOB8QOkFTQyniqgLYGuwZUekBU0mX/PexZKE6GTgaLX8GVR3DmFby1AKfn4dXZ+M4b8HARjT9Bt1+jqQU0vYCm5ijhzHwy9gA2O4gQBCBCiIGFBllaJ593ycoOXtkhy1vo2z5YPYRLa/DjJlw+40bKT5vgwxq03FQMMzHA2MTAwsgm0MJAJ8AjKN0+jwNgkjA8Pjhgj0uK3FbltiyemnqPIEwATAnRKPHfdjMAgLPPDDYwdSUzBl4IJolCjuOq1VqZ44Rm0/f9MAwjeoVhEARgoDH/gkmSRNd7uqEbGbSeZlqWoeuGaWhaL47jNJHzxbGu64qimgaV6COh/0k7CvxyBkEQ6vV6t9uFw/VfNNsgoXWB1B9EmwdpqfSOsg+nb8BFYMLALxwVWI6vVSssWyrz1D62WCzS55OGMFzjaEZMHEWO4/ie57quZVme59Gl7Th06ToOPX8wGg2DikNJktodpauqmqYpqiplUFWFutiW5VZLalN0OrIk0QqHDItDv1GviUKT2tUSxZbYrFarPM83m4JpmpZp6lkTLdumeY38SxjL81uGpTle23Q6liNbThDF1IykP3l00P7kCZIhMG4QaI5reoHueLrrKbYTRnESUyuiIMPZzIVBOnBB+hTGfTA0DCZpNCVIUlIZ3aAjw5bYer1a5stNUWRZjk5BpcI3BIGeSaeXhv0CkP7CrIPvTCAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Fitbit App Details\"\n        title=\"\"\n        src=\"/static/c3026d33fcacfe5de6656b99d46a425e/7a75e/fitbit_app_details.png\"\n        srcset=\"/static/c3026d33fcacfe5de6656b99d46a425e/12f09/fitbit_app_details.png 148w,\n/static/c3026d33fcacfe5de6656b99d46a425e/e4a3f/fitbit_app_details.png 295w,\n/static/c3026d33fcacfe5de6656b99d46a425e/7a75e/fitbit_app_details.png 409w\"\n        sizes=\"(max-width: 409px) 100vw, 409px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4 id=\"getting-keys-via-python-fitbit-helper\" style=\"position:relative;\"><a href=\"#getting-keys-via-python-fitbit-helper\" aria-label=\"getting keys via python fitbit helper permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Keys via Python-Fitbit Helper</h4>\n<p>Clone the repo <a href=\"https://github.com/orcasgit/python-fitbit\">python-fitbit</a> and install the required packages.\n<code class=\"language-text\">pip install -r python-fitbit\\requirements\\dev.txt</code></p>\n<p>Run the gather keys helper script, passing in your client id and client secret as arguments. This will launch a browser window taking you to a login screen where you can authorize your Fitbit account with your newly created app.\n<code class=\"language-text\">python gather_keys_oauth2.py CLIENT_ID CLIENT_SECRET</code></p>\n<p>Once you have logged in take a note of the data the script will print to the console.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">TOKEN\n=====\naccess_token = eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMkJYOVoiLCJzdWIiOiI2R0NaSksiLCJpc3MiOiJGaXRiaXQiLCJ0eXAiOiJhY2Nlc3NfdG9rZW4iLCJzY29wZXMiOiJyc29jIHJhY3QgcnNldCBybG9jIHJ3ZWkgcmhyIHJudXQgcnBybyByc2xlIiwiZXhwIjoxNjA5Mjk0OTA5LCJpYXQiOjE2MDkyNjYxMDl9.0Q8VdtKNrQeXLJ2fx1kGO993BmTCA9ncRykBnawZL-0\nexpires_in = 28800\nrefresh_token = b051486632f8c6eb30ba9fc6b7ac9b0b6f2ea2cbf6d1fe0770d9baad7151cfd3\nscope = [&#39;heartrate&#39;, &#39;nutrition&#39;, &#39;weight&#39;, &#39;activity&#39;, &#39;sleep&#39;, &#39;settings&#39;, &#39;location&#39;, &#39;social&#39;, &#39;profile&#39;]\ntoken_type = Bearer\nuser_id = 6GCZJK\nexpires_at = 1609294914.5506968</code></pre></div>\n<p>You will need to copy the <code class=\"language-text\">access_token</code> and <code class=\"language-text\">refresh_token</code>.</p>\n<h4 id=\"using-the-fitbit-python-library\" style=\"position:relative;\"><a href=\"#using-the-fitbit-python-library\" aria-label=\"using the fitbit python library permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using the Fitbit python library</h4>\n<p>To get all the data I need I do the following.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> fitbit<span class=\"token punctuation\">.</span>Fitbit<span class=\"token punctuation\">(</span>client_id<span class=\"token punctuation\">,</span> client_secret<span class=\"token punctuation\">,</span> access_token<span class=\"token operator\">=</span>access_token<span class=\"token punctuation\">,</span> refresh_token<span class=\"token operator\">=</span>refresh_token<span class=\"token punctuation\">)</span>\n\nmarch2019 <span class=\"token operator\">=</span> <span class=\"token string\">\"2019-03-25\"</span>\nnovember2019 <span class=\"token operator\">=</span> <span class=\"token string\">\"2019-11-25\"</span>\nmarch2020 <span class=\"token operator\">=</span> <span class=\"token string\">\"2020-03-25\"</span>\nnovember2020 <span class=\"token operator\">=</span> <span class=\"token string\">\"2020-11-25\"</span>\n\nfdata2019 <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>time_series<span class=\"token punctuation\">(</span>STEP_ACTIVITY<span class=\"token punctuation\">,</span> base_date<span class=\"token operator\">=</span>march2019<span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span>november2019<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"activities-steps\"</span><span class=\"token punctuation\">]</span>\nfdata2020 <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>time_series<span class=\"token punctuation\">(</span>STEP_ACTIVITY<span class=\"token punctuation\">,</span> base_date<span class=\"token operator\">=</span>march2020<span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span>november2020<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"activities-steps\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>I want to get the data in an easier form for me to work with, so I create some simple helper functions.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">parse_datetime</span><span class=\"token punctuation\">(</span>date_string<span class=\"token punctuation\">,</span> fmt<span class=\"token operator\">=</span><span class=\"token string\">\"%Y-%m-%d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> datetime<span class=\"token punctuation\">.</span>strptime<span class=\"token punctuation\">(</span>date_string<span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">parse_fitbit_data</span><span class=\"token punctuation\">(</span>fitbit_data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Converts number of steps to int and parses string datetime.\n    Adds day and month names.\n    \"\"\"</span>\n    new_fitbit_data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> day <span class=\"token keyword\">in</span> fitbit_data<span class=\"token punctuation\">:</span>\n        d <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"datetime\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> parse_datetime<span class=\"token punctuation\">(</span>day<span class=\"token punctuation\">[</span><span class=\"token string\">\"dateTime\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"steps\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>day<span class=\"token punctuation\">[</span><span class=\"token string\">\"value\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"day\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> calendar<span class=\"token punctuation\">.</span>day_name<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">[</span><span class=\"token string\">\"datetime\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>weekday<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"dayofweek\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"datetime\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>weekday<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"month\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> calendar<span class=\"token punctuation\">.</span>month_name<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">[</span><span class=\"token string\">\"datetime\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">]</span>\n        new_fitbit_data<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> new_fitbit_data</code></pre></div>\n<p>I can then parse the data returned by the Fitbit API and create a single Pandas DataFrame.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data2019 <span class=\"token operator\">=</span> parse_fitbit_data<span class=\"token punctuation\">(</span>fdata2019<span class=\"token punctuation\">)</span>\ndata2020 <span class=\"token operator\">=</span> parse_fitbit_data<span class=\"token punctuation\">(</span>fdata2020<span class=\"token punctuation\">)</span>\n\ndf2019 <span class=\"token operator\">=</span> pandas<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>data2019<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'datetime'</span><span class=\"token punctuation\">)</span>\ndf2020 <span class=\"token operator\">=</span> pandas<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>data2020<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'datetime'</span><span class=\"token punctuation\">)</span>\n\ndf <span class=\"token operator\">=</span> pandas<span class=\"token punctuation\">.</span>concat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>df2019<span class=\"token punctuation\">,</span> df2020<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">In [13]: df\nOut[13]:\n            steps        day  dayofweek     month\ndatetime\n2019-03-25   9167     Monday          0     March\n2019-03-26   9176    Tuesday          1     March\n2019-03-27  14875  Wednesday          2     March\n2019-03-28   8012   Thursday          3     March\n2019-03-29  13021     Friday          4     March\n...           ...        ...        ...       ...\n2020-11-21  10050   Saturday          5  November\n2020-11-22   6444     Sunday          6  November\n2020-11-23  11155     Monday          0  November\n2020-11-24  12731    Tuesday          1  November\n2020-11-25  12889  Wednesday          2  November\n\n[492 rows x 4 columns]</code></pre></div>\n<p>I now just need to aggregate the steps, grouping by day of the week.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">mean_steps_df <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dayofweek'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nmean_steps_df<span class=\"token punctuation\">[</span><span class=\"token string\">'steps'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> mean_steps_df<span class=\"token punctuation\">[</span><span class=\"token string\">'steps'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>I want to use the actual days of the week names rather than a number, so for that I need to modify the dataframe’s index. I am sure there is a nicer way to achieve this.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">mean_steps_df<span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> pandas<span class=\"token punctuation\">.</span>MultiIndex<span class=\"token punctuation\">(</span>levels<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>mean_steps_df<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>levels<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> calendar<span class=\"token punctuation\">.</span>day_name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                                        codes<span class=\"token operator\">=</span>mean_steps_df<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>codes<span class=\"token punctuation\">,</span>\n                                        names<span class=\"token operator\">=</span>mean_steps_df<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>names<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">In [24]: mean_steps_df\nOut[24]:\n                    steps\ndatetime dayofweek\n2019     Monday      7318\n         Tuesday     6700\n         Wednesday   7608\n         Thursday    8610\n         Friday     11735\n         Saturday   13289\n         Sunday      9680\n2020     Monday     13104\n         Tuesday    13001\n         Wednesday  11705\n         Thursday   12471\n         Friday     15115\n         Saturday   12089\n         Sunday     12795</code></pre></div>\n<h2 id=\"analysing\" style=\"position:relative;\"><a href=\"#analysing\" aria-label=\"analysing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Analysing</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">ax <span class=\"token operator\">=</span> mean_steps_df<span class=\"token punctuation\">.</span>unstack<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>kind<span class=\"token operator\">=</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span> grid<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> rot<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>set_xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Day'</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>set_ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Steps'</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>set_title<span class=\"token punctuation\">(</span><span class=\"token string\">'Average Number of Steps Per Day'</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'2019'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2020'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">(</span>alpha<span class=\"token operator\">=</span><span class=\"token number\">0.33</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>savefig<span class=\"token punctuation\">(</span><span class=\"token string\">'steps_2019vs2020_patrickmcmichael.png'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4658cf2cceaf279ddf5d4cf1ed38218/6af66/steps_2019vs2020_patrickmcmichael.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA9hAAAPYQGoP6dpAAADMElEQVQ4y22U7XMTVRSH83fqBxU+qOMgnfGLCJQkLbbO0AjqVBhxBmEwYBlemxRbWxVBmiotL4WmqU0JoQnZZDf7vtndJI9nN9Di4Jm5e+/s3Puc87vnnJvo9/tEFs3dbldGGK8ty6JSqfxnNBoNyuVNtl80qT6voSgKOyZnonOJ6BOGIaZpohsGtuNi23a8bjabcqgRz9FQWwqKqtNcL6BU1nFkX7XeoLC6wdZWOd6TiOCapsXeOp5L2HEIxEHoe/R6EnGvJ3NfRo9QxER6erdP0C3/Qc0DQ32B/s+SRK2gqtogQk1TUdoWXvUBwcI4gRzyf8sQ6HV8PyDouPiuhf84hzAwF47Tf3qXselH1MpPYsX+ykXs1vYAaJkGquniVZYJf04OgLlPCew2neIswf1LAvYh/wmrjQ7fHB2C1kNGfrhB9fLw4A5vHsCqbQwkt0VyU7fpPFshnEvTkX9e/hChY9ArzhDcO08QhDB/hAd1j4nUvh1gczrFEw3++n6IsLVFQlVV0d6iZTg4EqE/mxp4nD2MZ7Wp3L0Cq1NcX66yfnY/JTUkk/o4BqbOXMe6OcrVNZsz6XflQp+RiMojSkpbJE9mL6PdOMxTC4pnh7ANjZHMl/B4iq/mityZ/IDNdpeJ5L4doDEzQn7D5cLne0GvDCQbho5q2Bw5lcXIDTNTsjk/8g5d1yB5LCMR/sTJX0sUTn7IpvYmMFdy+PHonl2gZZlopsPo6Qsx8JdNl0tj7xEKMDUxAH67UGIxAkYRpnaB5v8BTSliVZIyevqiAJMCdJga3yNJ0Ulnjsd3GEW4eOqjOMJMev9OUgy5w7wAs69L9lwX3fI4NHkO/dqBWHI2/VZcNp+NfQGPspyYW+PPr/fGSRk/+D4oKxz87grG9DDXJCnnkm9LuUiW+y9b0XY9fl9apv5wgY26ztL8VYy2yu3FgrTaEn+XnrN2J0etZXBrPo+rVLh1b5Xt+/MUt9sUZL9vqYPCfmWG3sbxu3RcB9N2JVmm9G8Lw/Yw25pci0VP2tIR52FPFEqH2Z0Q33PQJQcRKfHqpdkF7zqIXp+ohyNz5NGIkvf66/KGyb9/AeKbKVK0oi0FAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Average Steps in 2019 vs 2020\"\n        title=\"\"\n        src=\"/static/d4658cf2cceaf279ddf5d4cf1ed38218/fcda8/steps_2019vs2020_patrickmcmichael.png\"\n        srcset=\"/static/d4658cf2cceaf279ddf5d4cf1ed38218/12f09/steps_2019vs2020_patrickmcmichael.png 148w,\n/static/d4658cf2cceaf279ddf5d4cf1ed38218/e4a3f/steps_2019vs2020_patrickmcmichael.png 295w,\n/static/d4658cf2cceaf279ddf5d4cf1ed38218/fcda8/steps_2019vs2020_patrickmcmichael.png 590w,\n/static/d4658cf2cceaf279ddf5d4cf1ed38218/6af66/steps_2019vs2020_patrickmcmichael.png 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This really shows the number of steps on weekdays dramatically increased. Why is this? I think the main reason is because as I have been temporarily working from home it means I no longer have to commute. My previous commute was driving 110+ miles per day so a large part of the day outside of work was spent sitting in a car. When I returned home in the evening, I normally felt pretty drained after the long car journey. It meant I didn’t have the desire to be active rather I was more content with resting.</p>\n<p>Now when I finish work, I still have plenty of energy and desire to exercise (go for walk, treadmill etc).</p>\n<p>Interestingly, the number of steps has actually decreased for Saturday. I suggest this is because I get slightly more sleep on that day. And, unlike in 2019 I have no desire to “make up” for lack of exercise on the preceding weekdays.</p>\n<h4 id=\"steps-per-month\" style=\"position:relative;\"><a href=\"#steps-per-month\" aria-label=\"steps per month permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Steps Per Month</h4>\n<p>I can quickly get the data per month instead of per day to say if there any patterns. This is a bit annoying since I need to reorder the months as they will be alphabetical by default</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">mean_steps_month_df <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'month'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nmean_steps_month_df<span class=\"token punctuation\">[</span><span class=\"token string\">'steps'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> mean_steps_month_df<span class=\"token punctuation\">[</span><span class=\"token string\">'steps'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span>\nmean_steps_month_df <span class=\"token operator\">=</span> mean_steps_month_df<span class=\"token punctuation\">[</span><span class=\"token string\">'steps'</span><span class=\"token punctuation\">]</span>\n\nmonths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>month <span class=\"token keyword\">for</span> month <span class=\"token keyword\">in</span> month_name <span class=\"token keyword\">if</span> month <span class=\"token keyword\">in</span> mean_steps_month_df<span class=\"token punctuation\">.</span>unstack<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">]</span>\nax2 <span class=\"token operator\">=</span> mean_steps_month_df<span class=\"token punctuation\">.</span>unstack<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reindex<span class=\"token punctuation\">(</span>months<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>kind<span class=\"token operator\">=</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span> grid<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> rot<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\nax2<span class=\"token punctuation\">.</span>set_xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Month'</span><span class=\"token punctuation\">)</span>\nax2<span class=\"token punctuation\">.</span>set_ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Steps'</span><span class=\"token punctuation\">)</span>\nax2<span class=\"token punctuation\">.</span>set_title<span class=\"token punctuation\">(</span><span class=\"token string\">'Average Number of Steps Per Month'</span><span class=\"token punctuation\">)</span>\nax2<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'2019'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2020'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nax2<span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">(</span>alpha<span class=\"token operator\">=</span><span class=\"token number\">0.33</span><span class=\"token punctuation\">)</span>\n\nplt<span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">(</span>b<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> which<span class=\"token operator\">=</span><span class=\"token string\">'major'</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#666666'</span><span class=\"token punctuation\">,</span> linestyle<span class=\"token operator\">=</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Show the minor grid lines with very faint and almost transparent grey lines</span>\nplt<span class=\"token punctuation\">.</span>minorticks_on<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">(</span>b<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> which<span class=\"token operator\">=</span><span class=\"token string\">'minor'</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#999999'</span><span class=\"token punctuation\">,</span> linestyle<span class=\"token operator\">=</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span>\n\nplt<span class=\"token punctuation\">.</span>tight_layout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>savefig<span class=\"token punctuation\">(</span><span class=\"token string\">'steps2019vs2020months.png'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ced2b1591f95f41e3077044b43b3b14f/6af66/steps2019vs2020months.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA9hAAAPYQGoP6dpAAADMUlEQVQ4y3WU/VMaRxjH+cv7SybtpO2MkzQzTbRKYsAUTYM1EuxUzIiKb6cIiMg76ADHcbzDcceBn+7tjel0Onlm9m5nXz77fXb3u56Hhwds25ZlNpt9LZqmUS6XqFarVCpl6g2Vu1qDSrlMrVYTfWVUVeUxHI5TPM6n3W5LQL/fZzgcMhgMZFuz5bZrrRZ64x4tey7b9JYmYf1el3TxjnimwF2lIud+BTabTSzTZDqdYlmWq7jfYDY1sYWCmV7CPn7NzKk7fXNkfVjP0Solua/VGT0CR6ORhBoTU4Lm9hTTtDBji1g9FcueYap5zNM3TDo1rLsLrHoaq9vALuxj91UmYgHDMFygruuoQqFtGgxHY6r6UEKt0xWsZp5JIgidElPFx0M9wTQdwkp/xmpkME+WmWk57EaaUb+Nx9nQXreD1huLQSEquRQ+/xsY1Jhd+Dk6OSG1s0Ipm6J96KV4fcYwFWaa3cVSs8wv/TQrNxS2F4TiOh5dF5usqZSbAzbevqCQSfDH0lMKN3G+BF4QOTxCCS2z/tc+pb8XWd0M0TjfYp7bxahnBNCHcqkQWPweRhoeeaq9DmVtyOrycwq3SYLen8hcxwm9W+Dg+JjLz8tsRg6pRpZY2wrTULagtEcle8X225/J3STYkMCmm7IxGkiFvhUHmODjyo/cCmDYv0A05gKDkQMqu0u8/xSmHAuyt/2evMjiw/IzciKr9ddPvwVMusC0APoE8PgReCiBvwtg4egja36vBAbF2P8BR4MexUaPNe8vFAVwU6R8m75iZ+05B+JQ4mEvm3tHIuXfCIR2KMY2+bC+KvfZGZvPJNlY+sHdQwdoTcYU1T4rrwTo+pL1V09IXZ2z5X1GJBrl7M9fCex8oRB+ybvgJ7L7AXyri2RTilD2hEzqAv/L71yFzj10ojMYcxqLcl8to8T2uBP/5HmUbD5PLnFM6jZPLXOGkkhSvY1zFVfIZzMoRxFhu5KcYzj3UJpamnsuPDyUD4MhXDKfzzEt99Gw5w+YE4OxOWUofN5qd9CFs5zS7bu+73R7WMK2nn9fCv4bssFdzIm2gHQ7HVmfi0UdAY/hiHiMfwAU4y7iStUpZwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Average Steps per Month in 2019 vs 2020\"\n        title=\"\"\n        src=\"/static/ced2b1591f95f41e3077044b43b3b14f/fcda8/steps2019vs2020months.png\"\n        srcset=\"/static/ced2b1591f95f41e3077044b43b3b14f/12f09/steps2019vs2020months.png 148w,\n/static/ced2b1591f95f41e3077044b43b3b14f/e4a3f/steps2019vs2020months.png 295w,\n/static/ced2b1591f95f41e3077044b43b3b14f/fcda8/steps2019vs2020months.png 590w,\n/static/ced2b1591f95f41e3077044b43b3b14f/6af66/steps2019vs2020months.png 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Surprisingly, for April I did more steps for that month in 2019 than in 2020. So I did not necessarily increase the number of steps right away.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>When I had to work from home due to Covid-19 I did consider not having the commute would benefit me hugely. <a href=\"https://www.vox.com/2015/5/20/8629881/commuting-health-happiness\">Long commutes make you fat, tired, and miserable (VOX, 2015)\n</a> is an interesting article which shows the negative effects on people who have longer commutes.</p>\n<p>For me, the long commute was also not always bad. The journey to work forced me to wake up and “ease in” to the day rather than sit down at a desk straight away. I often listened to audiobooks or podcasts which passed the time. The journey home was less pleasant as it took longer, and I was already tired from working for the previous seven or eight hours.</p>\n<p>You can look at the code I have used on this <a href=\"https://gist.github.com/Saturn/d71778662f1018598fce47cc7112dcab\">GitHub Gist</a>.</p>","frontmatter":{"title":"How working from home has affected my number of daily steps","date":"December 30, 2020"}}},"pageContext":{"slug":"/wfh-fitbit-steps/"}},"staticQueryHashes":["3128451518"]}