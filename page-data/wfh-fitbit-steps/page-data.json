{"componentChunkName":"component---src-templates-blog-post-js","path":"/wfh-fitbit-steps/","result":{"data":{"site":{"siteMetadata":{"title":"patrickmcmichael.org","author":"Patrick McMichael"}},"markdownRemark":{"id":"5da2f8a9-f691-5bdc-97e7-8b454c814d52","excerpt":"Since working from home since the 25th of March 2020 I have wondered how my physical activity has been affected.\nI have worn a Fitbit Charge 2 (most days) since…","html":"<p>Since working from home since the 25th of March 2020 I have wondered how my physical activity has been affected.\nI have worn a Fitbit Charge 2 (most days) since February 2018 so I have a good amount of data to look upon. What I will do is compare total steps for the same period of time for 2020 vs the previous year. I can then see how the average number of steps per day has increased/decreased or any general pattern.</p>\n<p>I will be using the Fitbit API via <a href=\"https://github.com/orcasgit/python-fitbit\">python-fitbit</a> along with <a href=\"https://github.com/pandas-dev/pandas\">Pandas</a> and <a href=\"https://matplotlib.org/\">Matplotlib</a>.</p>\n<h2 id=\"getting-the-data\" style=\"position:relative;\"><a href=\"#getting-the-data\" aria-label=\"getting the data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting the data</h2>\n<h4 id=\"creating-fitbit-app\" style=\"position:relative;\"><a href=\"#creating-fitbit-app\" aria-label=\"creating fitbit app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating Fitbit App</h4>\n<p>In order to use the Fitbit API you will need to create an app and authorize the Fitbit account that you want to read data from. Go to <a href=\"https://dev.fitbit.com/apps/new\">Fitbit Dev App Registration</a> and register a new app. The callback URL is particularly important. I have used <code>http://127.0.0.1:8080/</code>. This is what the <a href=\"https://github.com/orcasgit/python-fitbit/blob/master/gather_keys_oauth2.py\">helper script</a> in the Python-Fitbit code expects by default.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3026d33fcacfe5de6656b99d46a425e/7a75e/fitbit_app_details.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 409px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 110.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC80lEQVQ4y4VUO2/TUBT2f2JgrVgLBalCLRUbM0gMIJiggGgLEhtMlRjLUFARA4ihaumbJm3TxI7zaBw3dmLH8fvt++LaJZAEtXz+ZPn6ns/3nO8cmTkVxf29vVKxcHRUOMznhEZj68dGPpfP7ecoKzxPCMEIEYwJJiNgTM/J86WTjlRvSzW5ZYPIiAIbxIbvyrah2iY5HwwWFLJexNtlss395hZHflYIK5LtMt7l0fox2iyh1UMkqjjLAvfBwHdf0KV7eHIeT77E157i8Vk88Qxdn03uvkVjj9GNF3jiOb45hy/fh++/p2IAB8SOB8QOkFTQyniqgLYGuwZUekBU0mX/PexZKE6GTgaLX8GVR3DmFby1AKfn4dXZ+M4b8HARjT9Bt1+jqQU0vYCm5ijhzHwy9gA2O4gQBCBCiIGFBllaJ593ycoOXtkhy1vo2z5YPYRLa/DjJlw+40bKT5vgwxq03FQMMzHA2MTAwsgm0MJAJ8AjKN0+jwNgkjA8Pjhgj0uK3FbltiyemnqPIEwATAnRKPHfdjMAgLPPDDYwdSUzBl4IJolCjuOq1VqZ44Rm0/f9MAwjeoVhEARgoDH/gkmSRNd7uqEbGbSeZlqWoeuGaWhaL47jNJHzxbGu64qimgaV6COh/0k7CvxyBkEQ6vV6t9uFw/VfNNsgoXWB1B9EmwdpqfSOsg+nb8BFYMLALxwVWI6vVSssWyrz1D62WCzS55OGMFzjaEZMHEWO4/ie57quZVme59Gl7Th06ToOPX8wGg2DikNJktodpauqmqYpqiplUFWFutiW5VZLalN0OrIk0QqHDItDv1GviUKT2tUSxZbYrFarPM83m4JpmpZp6lkTLdumeY38SxjL81uGpTle23Q6liNbThDF1IykP3l00P7kCZIhMG4QaI5reoHueLrrKbYTRnESUyuiIMPZzIVBOnBB+hTGfTA0DCZpNCVIUlIZ3aAjw5bYer1a5stNUWRZjk5BpcI3BIGeSaeXhv0CkP7CrIPvTCAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Fitbit App Details\"\n        title=\"\"\n        src=\"/static/c3026d33fcacfe5de6656b99d46a425e/7a75e/fitbit_app_details.png\"\n        srcset=\"/static/c3026d33fcacfe5de6656b99d46a425e/12f09/fitbit_app_details.png 148w,\n/static/c3026d33fcacfe5de6656b99d46a425e/e4a3f/fitbit_app_details.png 295w,\n/static/c3026d33fcacfe5de6656b99d46a425e/7a75e/fitbit_app_details.png 409w\"\n        sizes=\"(max-width: 409px) 100vw, 409px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4 id=\"getting-keys-via-python-fitbit-helper\" style=\"position:relative;\"><a href=\"#getting-keys-via-python-fitbit-helper\" aria-label=\"getting keys via python fitbit helper permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Keys via Python-Fitbit Helper</h4>\n<p>Clone the repo <a href=\"https://github.com/orcasgit/python-fitbit\">python-fitbit</a> and install the required packages.\n<code>pip install -r python-fitbit\\requirements\\dev.txt</code></p>\n<p>Run the gather keys helper script, passing in your client id and client secret as arguments. This will launch a browser window taking you to a login screen where you can authorize your Fitbit account with your newly created app.\n<code>python gather_keys_oauth2.py CLIENT_ID CLIENT_SECRET</code></p>\n<p>Once you have logged in take a note of the data the script will print to the console.</p>\n<deckgo-highlight-code  line-numbers=\"true\"  >\n          <code slot=\"code\">TOKEN\n=====\naccess_token = eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMkJYOVoiLCJzdWIiOiI2R0NaSksiLCJpc3MiOiJGaXRiaXQiLCJ0eXAiOiJhY2Nlc3NfdG9rZW4iLCJzY29wZXMiOiJyc29jIHJhY3QgcnNldCBybG9jIHJ3ZWkgcmhyIHJudXQgcnBybyByc2xlIiwiZXhwIjoxNjA5Mjk0OTA5LCJpYXQiOjE2MDkyNjYxMDl9.0Q8VdtKNrQeXLJ2fx1kGO993BmTCA9ncRykBnawZL-0\nexpires_in = 28800\nrefresh_token = b051486632f8c6eb30ba9fc6b7ac9b0b6f2ea2cbf6d1fe0770d9baad7151cfd3\nscope = [&#39;heartrate&#39;, &#39;nutrition&#39;, &#39;weight&#39;, &#39;activity&#39;, &#39;sleep&#39;, &#39;settings&#39;, &#39;location&#39;, &#39;social&#39;, &#39;profile&#39;]\ntoken_type = Bearer\nuser_id = 6GCZJK\nexpires_at = 1609294914.5506968</code>\n        </deckgo-highlight-code>\n<p>You will need to copy the <code>access_token</code> and <code>refresh_token</code>.</p>\n<h4 id=\"using-the-fitbit-python-library\" style=\"position:relative;\"><a href=\"#using-the-fitbit-python-library\" aria-label=\"using the fitbit python library permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using the Fitbit python library</h4>\n<p>To get all the data I need I do the following.</p>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">f = fitbit.Fitbit(client_id, client_secret, access_token=access_token, refresh_token=refresh_token)\n\nmarch2019 = &quot;2019-03-25&quot;\nnovember2019 = &quot;2019-11-25&quot;\nmarch2020 = &quot;2020-03-25&quot;\nnovember2020 = &quot;2020-11-25&quot;\n\nfdata2019 = f.time_series(STEP_ACTIVITY, base_date=march2019, end_date=november2019)[&quot;activities-steps&quot;]\nfdata2020 = f.time_series(STEP_ACTIVITY, base_date=march2020, end_date=november2020)[&quot;activities-steps&quot;]</code>\n        </deckgo-highlight-code>\n<p>I want to get the data in an easier form for me to work with, so I create some simple helper functions.</p>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">def parse_datetime(date_string, fmt=&quot;%Y-%m-%d&quot;):\n    return datetime.strptime(date_string, fmt)\n\ndef parse_fitbit_data(fitbit_data):\n    &quot;&quot;&quot;\n    Converts number of steps to int and parses string datetime.\n    Adds day and month names.\n    &quot;&quot;&quot;\n    new_fitbit_data = []\n    for day in fitbit_data:\n        d = {}\n        d[&quot;datetime&quot;] = parse_datetime(day[&quot;dateTime&quot;])\n        d[&quot;steps&quot;] = int(day[&quot;value&quot;])\n        d[&quot;day&quot;] = calendar.day_name[d[&quot;datetime&quot;].weekday()]\n        d[&quot;dayofweek&quot;] = d[&quot;datetime&quot;].weekday()\n        d[&quot;month&quot;] = calendar.month_name[d[&quot;datetime&quot;].month]\n        new_fitbit_data.append(d)\n    return new_fitbit_data</code>\n        </deckgo-highlight-code>\n<p>I can then parse the data returned by the Fitbit API and create a single Pandas DataFrame.</p>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">data2019 = parse_fitbit_data(fdata2019)\ndata2020 = parse_fitbit_data(fdata2020)\n\ndf2019 = pandas.DataFrame(data2019).set_index(&#39;datetime&#39;)\ndf2020 = pandas.DataFrame(data2020).set_index(&#39;datetime&#39;)\n\ndf = pandas.concat([df2019, df2020])</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code  line-numbers=\"true\"  >\n          <code slot=\"code\">In [13]: df\nOut[13]:\n            steps        day  dayofweek     month\ndatetime\n2019-03-25   9167     Monday          0     March\n2019-03-26   9176    Tuesday          1     March\n2019-03-27  14875  Wednesday          2     March\n2019-03-28   8012   Thursday          3     March\n2019-03-29  13021     Friday          4     March\n...           ...        ...        ...       ...\n2020-11-21  10050   Saturday          5  November\n2020-11-22   6444     Sunday          6  November\n2020-11-23  11155     Monday          0  November\n2020-11-24  12731    Tuesday          1  November\n2020-11-25  12889  Wednesday          2  November\n\n[492 rows x 4 columns]</code>\n        </deckgo-highlight-code>\n<p>I now just need to aggregate the steps, grouping by day of the week.</p>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">mean_steps_df = df.groupby([df.index.map(lambda x: x.year), &#39;dayofweek&#39;]).mean()\nmean_steps_df[&#39;steps&#39;] = mean_steps_df[&#39;steps&#39;].astype(int)</code>\n        </deckgo-highlight-code>\n<p>I want to use the actual days of the week names rather than a number, so for that I need to modify the dataframe’s index. I am sure there is a nicer way to achieve this.</p>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">mean_steps_df.index = pandas.MultiIndex(levels=[mean_steps_df.index.levels[0], calendar.day_name],\n                                        codes=mean_steps_df.index.codes,\n                                        names=mean_steps_df.index.names)</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code  line-numbers=\"true\"  >\n          <code slot=\"code\">In [24]: mean_steps_df\nOut[24]:\n                    steps\ndatetime dayofweek\n2019     Monday      7318\n         Tuesday     6700\n         Wednesday   7608\n         Thursday    8610\n         Friday     11735\n         Saturday   13289\n         Sunday      9680\n2020     Monday     13104\n         Tuesday    13001\n         Wednesday  11705\n         Thursday   12471\n         Friday     15115\n         Saturday   12089\n         Sunday     12795</code>\n        </deckgo-highlight-code>\n<h2 id=\"analysing\" style=\"position:relative;\"><a href=\"#analysing\" aria-label=\"analysing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Analysing</h2>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">ax = mean_steps_df.unstack(0).plot(kind=&#39;bar&#39;, grid=True, rot=20)\nax.set_xlabel(&#39;Day&#39;)\nax.set_ylabel(&#39;Steps&#39;)\nax.set_title(&#39;Average Number of Steps Per Day&#39;)\nax.legend([&#39;2019&#39;,&#39;2020&#39;])\nax.grid(alpha=0.33)\nplt.savefig(&#39;steps_2019vs2020_patrickmcmichael.png&#39;)</code>\n        </deckgo-highlight-code>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4658cf2cceaf279ddf5d4cf1ed38218/6af66/steps_2019vs2020_patrickmcmichael.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA9hAAAPYQGoP6dpAAADMElEQVQ4y22U7XMTVRSH83fqBxU+qOMgnfGLCJQkLbbO0AjqVBhxBmEwYBlemxRbWxVBmiotL4WmqU0JoQnZZDf7vtndJI9nN9Di4Jm5e+/s3Puc87vnnJvo9/tEFs3dbldGGK8ty6JSqfxnNBoNyuVNtl80qT6voSgKOyZnonOJ6BOGIaZpohsGtuNi23a8bjabcqgRz9FQWwqKqtNcL6BU1nFkX7XeoLC6wdZWOd6TiOCapsXeOp5L2HEIxEHoe/R6EnGvJ3NfRo9QxER6erdP0C3/Qc0DQ32B/s+SRK2gqtogQk1TUdoWXvUBwcI4gRzyf8sQ6HV8PyDouPiuhf84hzAwF47Tf3qXselH1MpPYsX+ykXs1vYAaJkGquniVZYJf04OgLlPCew2neIswf1LAvYh/wmrjQ7fHB2C1kNGfrhB9fLw4A5vHsCqbQwkt0VyU7fpPFshnEvTkX9e/hChY9ArzhDcO08QhDB/hAd1j4nUvh1gczrFEw3++n6IsLVFQlVV0d6iZTg4EqE/mxp4nD2MZ7Wp3L0Cq1NcX66yfnY/JTUkk/o4BqbOXMe6OcrVNZsz6XflQp+RiMojSkpbJE9mL6PdOMxTC4pnh7ANjZHMl/B4iq/mityZ/IDNdpeJ5L4doDEzQn7D5cLne0GvDCQbho5q2Bw5lcXIDTNTsjk/8g5d1yB5LCMR/sTJX0sUTn7IpvYmMFdy+PHonl2gZZlopsPo6Qsx8JdNl0tj7xEKMDUxAH67UGIxAkYRpnaB5v8BTSliVZIyevqiAJMCdJga3yNJ0Ulnjsd3GEW4eOqjOMJMev9OUgy5w7wAs69L9lwX3fI4NHkO/dqBWHI2/VZcNp+NfQGPspyYW+PPr/fGSRk/+D4oKxz87grG9DDXJCnnkm9LuUiW+y9b0XY9fl9apv5wgY26ztL8VYy2yu3FgrTaEn+XnrN2J0etZXBrPo+rVLh1b5Xt+/MUt9sUZL9vqYPCfmWG3sbxu3RcB9N2JVmm9G8Lw/Yw25pci0VP2tIR52FPFEqH2Z0Q33PQJQcRKfHqpdkF7zqIXp+ohyNz5NGIkvf66/KGyb9/AeKbKVK0oi0FAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Average Steps in 2019 vs 2020\"\n        title=\"\"\n        src=\"/static/d4658cf2cceaf279ddf5d4cf1ed38218/fcda8/steps_2019vs2020_patrickmcmichael.png\"\n        srcset=\"/static/d4658cf2cceaf279ddf5d4cf1ed38218/12f09/steps_2019vs2020_patrickmcmichael.png 148w,\n/static/d4658cf2cceaf279ddf5d4cf1ed38218/e4a3f/steps_2019vs2020_patrickmcmichael.png 295w,\n/static/d4658cf2cceaf279ddf5d4cf1ed38218/fcda8/steps_2019vs2020_patrickmcmichael.png 590w,\n/static/d4658cf2cceaf279ddf5d4cf1ed38218/6af66/steps_2019vs2020_patrickmcmichael.png 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This really shows the number of steps on weekdays dramatically increased. Why is this? I think the main reason is because as I have been temporarily working from home it means I no longer have to commute. My previous commute was driving 110+ miles per day so a large part of the day outside of work was spent sitting in a car. When I returned home in the evening, I normally felt pretty drained after the long car journey. It meant I didn’t have the desire to be active rather I was more content with resting.</p>\n<p>Now when I finish work, I still have plenty of energy and desire to exercise (go for walk, treadmill etc).</p>\n<p>Interestingly, the number of steps has actually decreased for Saturday. I suggest this is because I get slightly more sleep on that day. And, unlike in 2019 I have no desire to “make up” for lack of exercise on the preceding weekdays.</p>\n<h4 id=\"steps-per-month\" style=\"position:relative;\"><a href=\"#steps-per-month\" aria-label=\"steps per month permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Steps Per Month</h4>\n<p>I can quickly get the data per month instead of per day to say if there any patterns. This is a bit annoying since I need to reorder the months as they will be alphabetical by default. I also will use the aggregate the steps by using the sum rather than the mean.</p>\n<deckgo-highlight-code language=\"python\" line-numbers=\"true\"  >\n          <code slot=\"code\">mean_steps_month_df = df.groupby([df.index.map(lambda x: x.year), &#39;month&#39;]).sum()\nmean_steps_month_df[&#39;steps&#39;] = mean_steps_month_df[&#39;steps&#39;].astype(int)\nmean_steps_month_df = mean_steps_month_df[&#39;steps&#39;]\n\nmonths = [month for month in month_name if month in mean_steps_month_df.unstack(0).index.values]\nax2 = mean_steps_month_df.unstack(0).reindex(months).plot(kind=&#39;bar&#39;, grid=True, rot=20)\nax2.set_xlabel(&#39;Month&#39;)\nax2.set_ylabel(&#39;Steps&#39;)\nax2.set_title(&#39;Total Number of Steps Per Month&#39;)\nax2.legend([&#39;2019&#39;,&#39;2020&#39;])\nax2.grid(alpha=0.33)\n\nplt.grid(b=True, which=&#39;major&#39;, color=&#39;#666666&#39;, linestyle=&#39;-&#39;)\n\nplt.minorticks_on()\nplt.grid(b=True, which=&#39;minor&#39;, color=&#39;#999999&#39;, linestyle=&#39;-&#39;, alpha=0.2)\n\nplt.tight_layout()\nplt.savefig(&#39;steps2019vs2020months.png&#39;)</code>\n        </deckgo-highlight-code>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eaa3c767e2272b1c02764d85b7106ee8/6af66/steps2019vs2020months.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA9hAAAPYQGoP6dpAAADHUlEQVQ4y12UaVPbRhiA/c/7LZ3pMQ0fGlJyAOEIGAPJhEmwM8GkGBOID2RjBx/4xJfkS/Ip2fLTXYHHbd+Z1a5erZ733HXNZjPG4zGmaTKdTp1h27ajy+dzlMtlCoUClUqV4r0YxaJYV8S3PN1ul7lIjhwu+Wg0GqiqSqvVotfrYRgGuq7T0Fqomia+aTQbVdR0mIZcC129Xqdv6CTuSkSSGYrCuPzXAc4tSIWcLctiKtQzo45tDZE7Zj2VWXgdW67FsGcPc7+WppmPc18VBvqPwFqt5liUXkmYOexjis3j4AqjeoaRXLcrjEJbjFoVzOwZY11j3O9g3Z0xMRoMJzAYDBYeTiYTATSc2RiaWEJnXaww1e6wCxfQymHH9pk1kkyjO5h3AaxyBFMYkXtMXWXQ03FJmMyfHD2Rk4GwtHN0jNFWsUPr5FMK8U8vKKevqQe3Kaai6CE3k3xQAKNMFY8IO4v2VUTTruJqNpuOq6Zp0dO7DITDu6tPySln+LafolyHOHq7zOe/AyjHq3iOv5A/3YDSN8aliPDaQyIR4/2rn0VCG7hkITqdjtMCRrdNfwruzeeklQv2X/9KIhbG617mJBAg7l3lwPuFnARWL7lPXHCwvkT6Ns7+iycPQBmy9FC2Sk/vMBBldG8sk1GCvFv7zQEe70rguQM89J2Q9b8hfPaJrHLO21d/kE3dcDAHyqLIQoxGI4ai7EMk8BmZ2MUDMB7B+z9g5uQNnkMPqWgAt0jPAqguGlvTmmi1MkaniWf7JdlYkPfrv5OUQPdz/OcC6Fvj3We/8HCDDx8OHoBrSw7w0MmhumgbKX9uukn7t9jbWeNHyM/eyhOUyCVHm0t4/adEj/7C/dHHre8le54dsecrWyu/kEpes/vsp0XI87ADV2GKt1Gike+Uciki304pFfMo3wPcZjLkbq64vklSSFwRjytkfsS5PPdTKuSJBE8Y6q0F0CmOqLhpTcXFIC4KcbZGY4uJuCwmU9s5QUOhl8dLbbaR7dZqd+h0dTSxbnd0p/Vc84j/Hfqj5j96pxPE0ZRiP95Ic5Hvc/kHoEk6mWsFM8MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Average Steps per Month in 2019 vs 2020\"\n        title=\"\"\n        src=\"/static/eaa3c767e2272b1c02764d85b7106ee8/fcda8/steps2019vs2020months.png\"\n        srcset=\"/static/eaa3c767e2272b1c02764d85b7106ee8/12f09/steps2019vs2020months.png 148w,\n/static/eaa3c767e2272b1c02764d85b7106ee8/e4a3f/steps2019vs2020months.png 295w,\n/static/eaa3c767e2272b1c02764d85b7106ee8/fcda8/steps2019vs2020months.png 590w,\n/static/eaa3c767e2272b1c02764d85b7106ee8/6af66/steps2019vs2020months.png 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Surprisingly, for April I did more steps in 2019 than in 2020. So, I did not necessarily increase the number of steps right away.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>When I had to work from home due to Covid-19 I did consider not having the commute would benefit me hugely. <a href=\"https://www.vox.com/2015/5/20/8629881/commuting-health-happiness\">Long commutes make you fat, tired, and miserable (VOX, 2015)\n</a> is an interesting article which shows the negative effects on people who have longer commutes.</p>\n<p>For me, the long commute was also not always bad. The journey to work forced me to wake up and “ease in” to the day rather than sit down at a desk straight away. I often listened to audiobooks or podcasts which passed the time. The journey home was less pleasant as it took longer, and I was already tired from working for the previous seven or eight hours.</p>\n<p>You can look at the code I have used on this <a href=\"https://gist.github.com/Saturn/d71778662f1018598fce47cc7112dcab\">GitHub Gist</a>.</p>","frontmatter":{"title":"How working from home has affected my number of daily steps","date":"December 30, 2020"}}},"pageContext":{"slug":"/wfh-fitbit-steps/"}},"staticQueryHashes":["3128451518"]}